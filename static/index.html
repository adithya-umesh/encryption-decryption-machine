<!DOCTYPE html>
<html>
<head>
  <title>Home</title>
  <style>
    body {
      background: beige;
      font-family: Arial;
      margin: 0;
      padding: 0;
    }

    /* TOP NAV */
    .topnav {
      width: 100%;
      background: #D8C3A5;
      padding: 15px 0;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 35px;
      font-size: 18px;
      font-weight: bold;
      position: sticky;
      top: 0;
    }

    .topnav div { cursor:pointer; color:#4b3a21; }

    /* KEY CARD STYLING */
    .container {
      max-width: 800px;
      margin: 40px auto;
      padding: 10px;
    }

    .key-card {
      background: white;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.18);
      font-size: 18px;
      color: #4b3a21;
    }

    .title {
      text-align: center;
      font-size: 28px;
      margin-bottom: 20px;
      color: #4b3a21;
    }
  </style>
</head>
<body>

<!-- TOP NAV -->
<div class="topnav">
  <div id="welcome"></div>
  <div onclick="location.href='index.html'">Home</div>
  <div onclick="location.href='encrypt.html'">Encrypt</div>
  <div onclick="location.href='decrypt.html'">Decrypt</div>
  <div onclick="location.href='create_key.html'">Create Key</div>
  <div onclick="location.href='/logout'">Logout</div>
</div>

<div class="container">
  <div class="title">Your Keys</div>
  <div id="keys"></div>
</div>

<script>
fetch("/user",{method:"POST"})
.then(r=>r.json())
.then(d=>{ welcome.innerText = "Welcome, " + d.username; });

function loadKeys() {
  fetch("/keys",{method:"POST"})
  .then(r=>r.json())
  .then(d=>{
    keys.innerHTML = "";
    d.keys.forEach(k=>{
      keys.innerHTML += `
        <div class="key-card">
          <b>Key:</b> ${k.name}<br>
          <b>Pattern:</b> ${k.pattern}
        </div>`;
    });
  });
}

loadKeys();
</script>

</body>
</html>
